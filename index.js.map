{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function fetchImages(query) {\n    const API_KEY = '49484019-11a5d61f6cd196bafa2004bf7';\n    const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n    const loader = document.querySelector('.loader');\n\n    if (loader) {\n        loader.classList.add('active');\n    }\n\n    try {\n        const response = await axios.get(URL);\n        return response.data;\n    } catch (error) {\n        console.error(error);\n        return { hits: [] };\n    } finally {\n        if (loader) {\n            loader.classList.remove('active'); // ‚úÖ Hide loader\n        }\n    }\n\n    // const loader = document.querySelector('.loader');\n    // loader.style.display = \"block\";\n    // console.log(loader)\n    // try {\n    //     const response = await axios.get(URL);\n    //     return response.data;\n    // } catch (error) {\n    //     console.error(error);\n    //     return { hits: [] };\n    // } finally {\n    //     loader.style.display = \"none\";\n    //     console.log(loader)\n\n    // }\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n\n    if (images.length === 0) {\n        gallery.innerHTML = \"<p>No images found. Try another search.</p>\";\n        return;\n    }\n\n    const markup = images.map(img => `\n        <li class=\"gallery-item\">\n            <a href=\"${img.largeImageURL}\">\n                <img src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n                <div class=\"info\">\n                    <p>‚ù§Ô∏è ${img.likes}  üëÅÔ∏è ${img.views}  üí¨ ${img.comments}  ‚¨áÔ∏è ${img.downloads}</p>\n                </div>\n            </a>\n        </li>\n    `).join('');\n\n    gallery.innerHTML = markup;\n    \n    new SimpleLightbox('.gallery a').refresh();\n}\n","import { fetchImages } from './js/pixabay-api.js'\nimport { renderGallery } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\ndocument.querySelector('#search-form').addEventListener('submit', async (event) => {\n    event.preventDefault();\n    console.log('submit');\n    console.log(event)\n    const query = event.target.elements[0].value.trim();\n    if (!query) {\n        iziToast.warning({ title: 'Warning', message: 'Enter a search term!' });\n        return;\n    }\n    \n    document.querySelector('.gallery').innerHTML = '<div class=\"loader\"></div>';\n    \n    const { hits } = await fetchImages(query);\n    \n    if (hits.length === 0) {\n        iziToast.error({ title: 'Error', message: 'No images found!' });\n    } else {\n        renderGallery(hits);\n    }\n});\n"],"names":["fetchImages","query","URL","loader","axios","error","renderGallery","images","gallery","markup","img","SimpleLightbox","event","iziToast","hits"],"mappings":"+vBAEO,eAAeA,EAAYC,EAAO,CAErC,MAAMC,EAAM,qEAA6C,mBAAmBD,CAAK,CAAC,2DAC5EE,EAAS,SAAS,cAAc,SAAS,EAE3CA,GACAA,EAAO,UAAU,IAAI,QAAQ,EAGjC,GAAI,CAEA,OADiB,MAAMC,EAAM,IAAIF,CAAG,GACpB,IACnB,OAAQG,EAAO,CACZ,eAAQ,MAAMA,CAAK,EACZ,CAAE,KAAM,CAAA,EACvB,QAAc,CACFF,GACAA,EAAO,UAAU,OAAO,QAAQ,CAEvC,CAgBL,CClCO,SAASG,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAGjD,GAFAA,EAAQ,UAAY,GAEhBD,EAAO,SAAW,EAAG,CACrBC,EAAQ,UAAY,8CACpB,MACH,CAED,MAAMC,EAASF,EAAO,IAAIG,GAAO;AAAA;AAAA,uBAEdA,EAAI,aAAa;AAAA,4BACZA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,4BAElCA,EAAI,KAAK,SAASA,EAAI,KAAK,QAAQA,EAAI,QAAQ,QAAQA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,KAI3F,EAAE,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EAEpB,IAAIE,EAAe,YAAY,EAAE,SACrC,CCrBA,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAU,MAAOC,GAAU,CAC/EA,EAAM,eAAc,EACpB,QAAQ,IAAI,QAAQ,EACpB,QAAQ,IAAIA,CAAK,EACjB,MAAMX,EAAQW,EAAM,OAAO,SAAS,CAAC,EAAE,MAAM,OAC7C,GAAI,CAACX,EAAO,CACRY,EAAS,QAAQ,CAAE,MAAO,UAAW,QAAS,sBAAsB,CAAE,EACtE,MACH,CAED,SAAS,cAAc,UAAU,EAAE,UAAY,6BAE/C,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMd,EAAYC,CAAK,EAEpCa,EAAK,SAAW,EAChBD,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,kBAAkB,CAAE,EAE9DP,EAAcQ,CAAI,CAE1B,CAAC"}